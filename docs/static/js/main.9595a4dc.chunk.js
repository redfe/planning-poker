(this["webpackJsonpplanning-poker"]=this["webpackJsonpplanning-poker"]||[]).push([[0],[,,,,,,,,,,,,function(e,n,t){},,function(e,n,t){},function(e,n,t){},,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var i=t(1),c=t(6),r=t.n(c),a=t(3),o=t(27),s=t(2),l=t(4),d=(t(12),t(0)),u=["size","point","isSelectable","isSelected","isClosed","handleClick"],p=function(e){var n=e.size,t=e.point,i=e.isSelectable,c=e.isSelected,r=e.isClosed,a=e.handleClick,o=Object(l.a)(e,u);return Object(d.jsx)("div",Object(s.a)(Object(s.a)({className:["card","card-"+n,i?"card-selectable":"",c?"card-selected":"card-notselected",r?"card-closed":""].join(" "),onClick:function(){return a(t)}},o),{},{children:r?"":t}))};p.defaultProps={size:"medium",point:0,isSelectable:!1,isSelected:!1,isClosed:!1,handleClick:function(){}};t(14);var f=function(e){var n=e.isOpend,t=e.point,i=e.name;return Object(d.jsxs)("div",{className:"estimate",children:[Object(d.jsx)(p,{isSelectable:!1,isClosed:!n,size:"large",point:n?String(t):""}),Object(d.jsx)("div",{className:"estimate-name",children:i})]})};f.defaultProps={};t(15);var b=function(e){var n=e.isOpend,t=e.handleClick;console.log("begin render OpenButton.");return Object(d.jsx)("div",{className:"openbutton",onClick:t,children:n?"return":"open"})};b.defaultProps={isOpend:!1};var j=t(7),m=(t(19),function(e){var n=e.text;return console.log("begin render CopyButton."),Object(d.jsx)(j.CopyToClipboard,{text:n,children:Object(d.jsx)("div",{className:"copybutton",children:"Copy"})})});m.defaultProps={text:void 0};t(20);var O=function(e){var n=e.isOpend,t=e.estimaters,i=e.handleOpenButtonClick;return console.log("begin render Table."),Object(d.jsxs)("div",{className:"table",children:[Object(d.jsx)("div",{className:"table-estimaters",children:Array.isArray(t)?t.map((function(e){return Object(d.jsx)(f,{name:e.name,point:e.point,isOpend:n},e.name)})):void 0}),Object(d.jsx)(b,{isOpend:n,handleClick:i}),n&&t&&t.length>0?Object(d.jsx)(m,{text:v(t)}):null]})};function v(e){if(!e||0===e.length)return"empty.";var n=new Date;return"["+n.toLocaleDateString()+" "+n.toLocaleTimeString()+"] "+e.sort((function(e,n){return e.name>n.name?1:-1})).reduce((function(e,n){return(e?e+" ":"")+"".concat(n.name,"(").concat(n.point,")")}),null)}O.defaultProps={};t(21);var h=["name"],g=function(e){var n=e.name,t=Object(l.a)(e,h);return console.log("begin render User."),Object(d.jsx)("div",Object(s.a)(Object(s.a)({className:"user"},t),{},{children:n}))};g.defaultProps={name:""};t(22);var C=["0","1","2","3","5","8","13","21","34","55","?","\u221e"],x=function(e){var n=e.selectedPoint,t=e.handleCardClick;return console.log("begin render CardSelection."),Object(d.jsx)("div",{className:"card-selection",children:C.map((function(e){return Object(d.jsx)(p,{isSelectable:!0,isSelected:n===e,point:String(e),handleClick:t},e)}))})};x.defaultProps={selectedPoint:""};t(23);var k=function(e){var n=e.userName,t=e.isOpend,i=e.estimaters,c=e.handleOpenButtonClick,r=e.handleSelectionCardClick;console.log("begin render Page.");var a=i?i.find((function(e){return e.name===n})):void 0;return Object(d.jsx)("div",{className:"page",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"Planning Poker"}),Object(d.jsx)(O,{estimaters:i,isOpend:t,handleOpenButtonClick:c}),Object(d.jsx)(g,{name:n}),Object(d.jsx)(x,{selectedPoint:a?a.point:void 0,handleCardClick:r})]})})};k.defaultProps={};t(24);var S=function(){var e=Object(i.useState)(),n=Object(a.a)(e,2),t=n[0],c=n[1],r=Object(i.useState)([]),s=Object(a.a)(r,2),l=s[0],u=s[1],p=Object(i.useState)(!1),f=Object(a.a)(p,2),b=f[0],j=f[1],m=Object(i.useState)(void 0),O=Object(a.a)(m,2),v=O[0],h=O[1],g={select:function(e){var n=l.slice(),t=n.find((function(n){return n.name===e.name}));t||(t={name:e.name},n[n.length]=t),t.point=String(e.point),u(n)},unselect:function(e){var n=l.filter((function(n){return n.name!==e.name}));u(n)},open:function(){j(!0)},return:function(){u([]),j(!1)}};Object(i.useEffect)((function(){if(console.log("begin init."),!t)for(var e=t;!e;)e=window.prompt("your name"),c(e);var n;h((n=function(){var e,n=window.location.search;if(n)e=n.substring(1);else{var t=Object(o.a)();window.location.hash=t,window.history.replaceState("","","?"+t),e=t}return e}(),window.io("https://simple-websocket-server.herokuapp.com/?roomId="+n)))}),[]),Object(i.useEffect)((function(){console.log("begin socket setup."),v&&v.on("do event",(function(e){var n=g[e.type];n&&n(e)}))}),[v]);return Object(d.jsx)(k,{userName:t,isOpend:b,estimaters:l,handleOpenButtonClick:function(){var e=0!==l.length&&!b?"open":"return";v.emit("do event",{type:e})},handleSelectionCardClick:function(e){var n=l.find((function(e){return e.name===t})),i=n&&n.point===e,c=l.slice();if(i)c=l.filter((function(e){return e.name!==t}));else{var r=l.find((function(e){return e.name===t}));r||(r={name:t},c[c.length]=r),r.point=String(e)}var a=i?"unselect":"select";v.emit("do event",{type:a,name:t,point:String(e)})}})};r.a.render(Object(d.jsx)(S,{}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.9595a4dc.chunk.js.map